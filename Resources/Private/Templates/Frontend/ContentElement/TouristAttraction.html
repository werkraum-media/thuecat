<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    data-namespace-typo3-fluid="true">
    <f:for each="{entities}" as="entity">
        <h5>{entity.title} ({entity.town.title})</h5>
        <p>{entity.description}</p>

        <f:if condition="{entity.media.mainImage}">
            <f:image src="{entity.media.mainImage.url}" />
        </f:if>

        <f:for each="{entity.openingHours}" as="openingHour">
            <p>
                <f:for each="{openingHour.daysOfWeekWithMondayFirstWeekDay}" as="weekday">
                    {weekday}: {openingHour.opens} - {openingHour.closes}<br>
                </f:for>
                {openingHour.from -> f:format.date(format: 'd.m.Y')} -
                {openingHour.through -> f:format.date(format: 'd.m.Y')}
            </p>
        </f:for>

        <f:if condition="{entity.address}">
            <p>
                {entity.address.street}<br>
                {entity.address.zip} {entity.address.city}<br>
                {entity.address.email}<br>
                {entity.address.phone}<br>
                {entity.address.fax}
            </p>
        </f:if>
    </f:for>
</html>
