1.3.0
=====

Breaking
--------

Nothing

Features
--------

* Add support for TYPO3 v11 and PHP 8.0 + 8.1.

* Last import date is now shown within backend module beside each import configuration.

* Import author of media. This allows to either render the license author or the author.

* Filter and sort opening hours.
  Filter out opening hours from the past, they are not available to the template anymore.
  Sort opening hours from early to later based on their end timing.

  This should improve the UX of website visitors.
  It is not possible yet to sort opening hours by hand within the thuecat backend.

* Support special opening hours.
  It is possible to define special opening hours, e.g. for holidays.
  Those are now also imported and provided to the templates.

* Allow to check if an opening hour is valid for a single day.

* The URL of attractions is now imported and provided to the template.

* Media has a new method ``getExtraImages()`` which will return everything from
  ``getImages()`` except the ``getMainImage()``.

Fixes
-----

* Allow to import objects (e.g. Tourist Attractions) which are managed by generic
  organisations instead of specific Tourist Marketing Company.
  Those organisations will now also be imported, just like Tourist Marketing Company before.
  Both are organizations internally and only used for the TYPO3 backend module.

* Handle multiple ``thuecat:offerType`` values within Offer.
  The API is none breaking, the models still return only a single offer.

  They will filter down to the first offer which contains ``Offer`` within the value.
  Examples:

  Given: Childcare and CourseOffer will result in CourseOffer.

  Given: Childcare will result in Childcare.

  Existing imported data is still handled.

Tasks
-----

* Removed API Key from site configuration.
  The key was already moved to extension configuration as documented.
  Still we extended the site configuration, which is now cleaned up, see: https://github.com/werkraum-media/thuecat/issues/55

* Remove seconds from opens and closes of opening hours as we don't expect them to be used.

Deprecation
-----------

Nothing

